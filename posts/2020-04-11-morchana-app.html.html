<!DOCTYPE html><html><head><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" sizes="72x72" href="/android-icon-72x72.png"/><meta name="description" content="Kittinan"/><meta name="og:title" content="Kittinan"/><meta name="twitter:card" content="summary_large_image"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Kanit:wght@100;200;400;700&amp;display=swap" data-optimized-fonts="true"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-okaidia.min.css" integrity="sha512-mIs9kKbaw6JZFfSuo+MovjU+Ntggfoj8RwAmJbVXQ5mkAX5LlgETQEweFPI18humSPHymTb5iikEOKWF7I8ncQ==" crossorigin="anonymous" referrerpolicy="no-referrer"/><title>ตรวจสอบแอพ &quot;หมอชนะ&quot; เบื้องต้น</title><meta name="next-head-count" content="10"/><link rel="preload" href="/_next/static/css/c274b90f56cf71709453.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c274b90f56cf71709453.css" data-n-g=""/><link rel="preload" href="/_next/static/css/bce56abbc99f2b43226b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/bce56abbc99f2b43226b.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-70ff542d2e22ae74aeb1.js" defer=""></script><script src="/_next/static/chunks/framework-b97a0ed4f13ff8397343.js" defer=""></script><script src="/_next/static/chunks/main-222191e14496d29481e0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-7194f9233f9bbe08570a.js" defer=""></script><script src="/_next/static/chunks/230-e47f7af00167b1ea35f0.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-2a3e99f72d498b62d718.js" defer=""></script><script src="/_next/static/NtDLwH-YjyjSyl6uh_xSi/_buildManifest.js" defer=""></script><script src="/_next/static/NtDLwH-YjyjSyl6uh_xSi/_ssgManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Kanit:wght@100;200;400;700&display=swap">@font-face{font-family:'Kanit';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKX-Go6G5tXcr72GwY.woff) format('woff')}@font-face{font-family:'Kanit';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKU-Go6G5tXcr5aOiWj.woff) format('woff')}@font-face{font-family:'Kanit';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKZ-Go6G5tXcoaR.woff) format('woff')}@font-face{font-family:'Kanit';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKU-Go6G5tXcr4uPiWj.woff) format('woff')}@font-face{font-family:'Kanit';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKX-Go6G5tXcr72KxaAcI5DPFpLGw.woff2) format('woff2');unicode-range:U+0E01-0E5B,U+200C-200D,U+25CC}@font-face{font-family:'Kanit';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKX-Go6G5tXcr72Kw2AcI5DPFpLGw.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Kanit';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKX-Go6G5tXcr72KwyAcI5DPFpLGw.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Kanit';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKX-Go6G5tXcr72KwKAcI5DPFo.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Kanit';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKU-Go6G5tXcr5aOhWzVaFrNlJzIu4.woff2) format('woff2');unicode-range:U+0E01-0E5B,U+200C-200D,U+25CC}@font-face{font-family:'Kanit';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKU-Go6G5tXcr5aOhWoVaFrNlJzIu4.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Kanit';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKU-Go6G5tXcr5aOhWpVaFrNlJzIu4.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Kanit';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKU-Go6G5tXcr5aOhWnVaFrNlJz.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Kanit';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKZ-Go6G5tXcraBGwCKd6xBDFs.woff2) format('woff2');unicode-range:U+0E01-0E5B,U+200C-200D,U+25CC}@font-face{font-family:'Kanit';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKZ-Go6G5tXcraaGwCKd6xBDFs.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Kanit';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKZ-Go6G5tXcrabGwCKd6xBDFs.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Kanit';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKZ-Go6G5tXcraVGwCKd6xB.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Kanit';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKU-Go6G5tXcr4uPhWzVaFrNlJzIu4.woff2) format('woff2');unicode-range:U+0E01-0E5B,U+200C-200D,U+25CC}@font-face{font-family:'Kanit';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKU-Go6G5tXcr4uPhWoVaFrNlJzIu4.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Kanit';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKU-Go6G5tXcr4uPhWpVaFrNlJzIu4.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Kanit';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/kanit/v7/nKKU-Go6G5tXcr4uPhWnVaFrNlJz.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><div><body><section class="ant-layout layout"><header class="ant-layout-header"><div class="logo"></div><ul class="ant-menu ant-menu-light ant-menu-root ant-menu-horizontal" role="menu"><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><span class="nav-text">Home</span></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem"><span class="nav-text">Blog</span></li><li class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute" role="menuitem"><div class="ant-menu-submenu-title" role="button" aria-expanded="false" aria-haspopup="true"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul></header><main class="ant-layout-content"><div class="container"><main><article><h1 class="utils_headingXl__1XecN">ตรวจสอบแอพ &quot;หมอชนะ&quot; เบื้องต้น</h1><div class="utils_lightText__12Ckm"><time dateTime="2020-04-11 18:38:00">April 11, 2020</time></div><div><p>เมื่อวันที่ 10 เมษายน 2563 ได้มีการเปิดตัวแอพ <strong><a href="https://www.blognone.com/node/115736">หมอชนะ</a></strong> เพื่อเก็บประวัติการเดินทางของประชาชน และประเมินว่าบริเวณนั้นมีผู้ป่วย COVID-19 หรือไม่ ผมจึงทำการตรวจสอบว่ามีการส่งข้อมูลอะไรบ้างไปยัง Server  </p>
<p>| <a href="https://1.bp.blogspot.com/-PF6LBTlfNlk/XpG0kZx-TaI/AAAAAAACATU/Nl4h1sMW4O0Z22Mvh9vsWSQA9pxxXoCRACNcBGAsYHQ/s1600/0568.jpg"><img src="https://1.bp.blogspot.com/-PF6LBTlfNlk/XpG0kZx-TaI/AAAAAAACATU/Nl4h1sMW4O0Z22Mvh9vsWSQA9pxxXoCRACNcBGAsYHQ/s640/0568.jpg"></a> |
| รูปจาก <a href="https://www.prachachat.net/ict/news-447255">https://www.prachachat.net/ict/news-447255</a> |</p>
<p>วิธีการตรวจสอบเบื้องต้นคือการทำ Man In The Middle (MITM)  </p>
<p>โดยมีการเรียก API ต่างๆดังนี้  </p>
<p><strong>1. /registerDevice</strong>  </p>
<p>โดยมีการส่งข้อมูลเป็น JSON ดังนี้  </p>
<p>Request:  </p>
<div class="remark-highlight"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><span class="token property">"deviceId"</span><span class="token operator">:</span><span class="token string">"XXXXXXXXXX"</span><span class="token punctuation">}</span>
</code></pre></div>
<p>โดยค่าใน deviceId น่าจะเป็นค่า hash จากอะไรบางอย่าง  </p>
<p>Response:  </p>
<div class="remark-highlight"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"userId"</span><span class="token operator">:</span><span class="token string">"XXXXXXXXXX"</span><span class="token punctuation">,</span>
  <span class="token property">"anonymousId"</span><span class="token operator">:</span><span class="token string">"XXXXXXXXXX"</span>
<span class="token punctuation">}</span>  
</code></pre></div>
<p><strong>2. /userdata</strong>  </p>
<p>มีการเรียกใช้เมื่อทำแบบทดสอบ  </p>
<p>Request:  </p>
<div class="remark-highlight"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
   <span class="token property">"data"</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">"questionaire"</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">"one_uri_symp"</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token string">"none"</span>
         <span class="token punctuation">]</span><span class="token punctuation">,</span>
         <span class="token property">"travel_risk_country"</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
         <span class="token property">"covid19_contact"</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token string">"none"</span>
         <span class="token punctuation">]</span><span class="token punctuation">,</span>
         <span class="token property">"int_contact"</span><span class="token operator">:</span><span class="token boolean">false</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre></div>
<p><strong>3. /qr</strong>  </p>
<p>เรียกเพื่อโหลด QRCode ของเรา โดยมีการส่ง anonymousId แนบไปกับ header ด้วย  </p>
<p><strong>4. /location</strong>  </p>
<p>อันนี้จะส่งข้อมูลพิกัดที่เราอยู่ไปยัง Server  </p>
<p>Request:  </p>
<div class="remark-highlight"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
   <span class="token property">"locations"</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
         <span class="token property">"is_moving"</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
         <span class="token property">"uuid"</span><span class="token operator">:</span><span class="token string">"XXXX"</span><span class="token punctuation">,</span>
         <span class="token property">"timestamp"</span><span class="token operator">:</span><span class="token string">"2020-04-11T10:50:50.482Z"</span><span class="token punctuation">,</span>
         <span class="token property">"odometer"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token property">"coords"</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">"latitude"</span><span class="token operator">:</span><span class="token number">13</span><span class="token punctuation">,</span>
            <span class="token property">"longitude"</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span>
            <span class="token property">"accuracy"</span><span class="token operator">:</span><span class="token number">25.9</span><span class="token punctuation">,</span>
            <span class="token property">"speed"</span><span class="token operator">:</span><span class="token number">-1</span><span class="token punctuation">,</span>
            <span class="token property">"heading"</span><span class="token operator">:</span><span class="token number">-1</span><span class="token punctuation">,</span>
            <span class="token property">"altitude"</span><span class="token operator">:</span><span class="token number">-23.5</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token property">"activity"</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">"type"</span><span class="token operator">:</span><span class="token string">"still"</span><span class="token punctuation">,</span>
            <span class="token property">"confidence"</span><span class="token operator">:</span><span class="token number">100</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token property">"battery"</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">"is_charging"</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">"level"</span><span class="token operator">:</span><span class="token number">0.38</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token property">"extras"</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token property">"triggerType"</span><span class="token operator">:</span><span class="token string">"appState"</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">]</span>
<span class="token punctuation">}</span>  
</code></pre></div>
<p><strong>5. /scan</strong>  </p>
<p>หากพบ device อื่นๆผ่าน Bluetooth  หรือการ scan QRCode ก็จะส่ง API อันนี้  </p>
<div class="remark-highlight"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
   <span class="token property">"meetId"</span><span class="token operator">:</span><span class="token string">"XXXX"</span><span class="token punctuation">,</span>
   <span class="token property">"timestamp"</span><span class="token operator">:</span><span class="token string">"2020-04-11T11:06:53.777Z"</span><span class="token punctuation">,</span>
   <span class="token property">"meetWithIds"</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token string">"XXXX"</span>
   <span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token property">"location"</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">"latitude"</span><span class="token operator">:</span><span class="token number">13</span><span class="token punctuation">,</span>
      <span class="token property">"longitude"</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span>
      <span class="token property">"accuracy"</span><span class="token operator">:</span><span class="token number">24.2</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">"type"</span><span class="token operator">:</span><span class="token string">"bluetooth"</span>
<span class="token punctuation">}</span> 
</code></pre></div>
<p><strong>6. <a href="https://raw.githubusercontent.com/codeforpublic/morchana-core/master/available">https://raw.githubusercontent.com/codeforpublic/morchana-core/master/available</a></strong>  </p>
<p>เป็น API Kill-Switch เอาไว้เมื่อเลิกเก็บข้อมูลผู้ใช้แล้ว ก็จะใช้งานแอพไมไ่ด้ ชอบตรงที่เก็บไว้บน Github  </p>
<p><a href="https://1.bp.blogspot.com/--5pvypeMgXQ/XpGt_uV1rJI/AAAAAAACASU/1JASpLED7KYE1Xs4LReziGfg8MHOlfeuACNcBGAsYHQ/s1600/Screenshot_2020-04-11-14-57-40-973_com.thaialert.app.jpg"><img src="https://1.bp.blogspot.com/--5pvypeMgXQ/XpGt_uV1rJI/AAAAAAACASU/1JASpLED7KYE1Xs4LReziGfg8MHOlfeuACNcBGAsYHQ/s640/Screenshot_2020-04-11-14-57-40-973_com.thaialert.app.jpg"></a>  </p>
<p><strong>สรุป</strong>  </p>
<ul>
<li>ไม่พบว่ามีการส่งรูปที่เราถ่ายขึ้นไปยังบน Server  </li>
<li>ไม่พบว่ามีการส่งข้อมูลอื่นๆนอกเหนือจากที่ประกาศไว้  </li>
<li>งั้นเรามาใช้แอพ หมอชนะ กันเถอะ<br>
Appstore: <a href="https://apps.apple.com/th/app/allthaialert/id1505185420">https://apps.apple.com/th/app/allthaialert/id1505185420</a><br>
Play Store: <a href="https://play.google.com/store/apps/details?id=com.thaialert.app">https://play.google.com/store/apps/details?id=com.thaialert.app</a>  </li>
</ul>
</div></article></main></div></main><footer class="ant-layout-footer" style="text-align:center">Made with <span role="img" aria-label="heart" style="color:red" class="anticon anticon-heart"><svg viewBox="64 64 896 896" focusable="false" data-icon="heart" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"></path></svg></span> by Kittinan | <span role="img" aria-label="github" class="anticon anticon-github"><svg viewBox="64 64 896 896" focusable="false" data-icon="github" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"></path></svg></span>  <a href="https://github.com/kittinan/kittinan.github.io" target="_BLANK">kittinan.github.io</a></footer></section></body></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"2020-04-11-morchana-app.html","contentHtml":"\u003cp\u003eเมื่อวันที่ 10 เมษายน 2563 ได้มีการเปิดตัวแอพ \u003cstrong\u003e\u003ca href=\"https://www.blognone.com/node/115736\"\u003eหมอชนะ\u003c/a\u003e\u003c/strong\u003e เพื่อเก็บประวัติการเดินทางของประชาชน และประเมินว่าบริเวณนั้นมีผู้ป่วย COVID-19 หรือไม่ ผมจึงทำการตรวจสอบว่ามีการส่งข้อมูลอะไรบ้างไปยัง Server  \u003c/p\u003e\n\u003cp\u003e| \u003ca href=\"https://1.bp.blogspot.com/-PF6LBTlfNlk/XpG0kZx-TaI/AAAAAAACATU/Nl4h1sMW4O0Z22Mvh9vsWSQA9pxxXoCRACNcBGAsYHQ/s1600/0568.jpg\"\u003e\u003cimg src=\"https://1.bp.blogspot.com/-PF6LBTlfNlk/XpG0kZx-TaI/AAAAAAACATU/Nl4h1sMW4O0Z22Mvh9vsWSQA9pxxXoCRACNcBGAsYHQ/s640/0568.jpg\"\u003e\u003c/a\u003e |\n| รูปจาก \u003ca href=\"https://www.prachachat.net/ict/news-447255\"\u003ehttps://www.prachachat.net/ict/news-447255\u003c/a\u003e |\u003c/p\u003e\n\u003cp\u003eวิธีการตรวจสอบเบื้องต้นคือการทำ Man In The Middle (MITM)  \u003c/p\u003e\n\u003cp\u003eโดยมีการเรียก API ต่างๆดังนี้  \u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e1. /registerDevice\u003c/strong\u003e  \u003c/p\u003e\n\u003cp\u003eโดยมีการส่งข้อมูลเป็น JSON ดังนี้  \u003c/p\u003e\n\u003cp\u003eRequest:  \u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token property\"\u003e\"deviceId\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"XXXXXXXXXX\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eโดยค่าใน deviceId น่าจะเป็นค่า hash จากอะไรบางอย่าง  \u003c/p\u003e\n\u003cp\u003eResponse:  \u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"userId\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"XXXXXXXXXX\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"anonymousId\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"XXXXXXXXXX\"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e  \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003cstrong\u003e2. /userdata\u003c/strong\u003e  \u003c/p\u003e\n\u003cp\u003eมีการเรียกใช้เมื่อทำแบบทดสอบ  \u003c/p\u003e\n\u003cp\u003eRequest:  \u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n   \u003cspan class=\"token property\"\u003e\"data\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token property\"\u003e\"questionaire\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n         \u003cspan class=\"token property\"\u003e\"one_uri_symp\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n            \u003cspan class=\"token string\"\u003e\"none\"\u003c/span\u003e\n         \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n         \u003cspan class=\"token property\"\u003e\"travel_risk_country\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n         \u003cspan class=\"token property\"\u003e\"covid19_contact\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n            \u003cspan class=\"token string\"\u003e\"none\"\u003c/span\u003e\n         \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n         \u003cspan class=\"token property\"\u003e\"int_contact\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n   \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003cstrong\u003e3. /qr\u003c/strong\u003e  \u003c/p\u003e\n\u003cp\u003eเรียกเพื่อโหลด QRCode ของเรา โดยมีการส่ง anonymousId แนบไปกับ header ด้วย  \u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e4. /location\u003c/strong\u003e  \u003c/p\u003e\n\u003cp\u003eอันนี้จะส่งข้อมูลพิกัดที่เราอยู่ไปยัง Server  \u003c/p\u003e\n\u003cp\u003eRequest:  \u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n   \u003cspan class=\"token property\"\u003e\"locations\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n         \u003cspan class=\"token property\"\u003e\"is_moving\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n         \u003cspan class=\"token property\"\u003e\"uuid\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"XXXX\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n         \u003cspan class=\"token property\"\u003e\"timestamp\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2020-04-11T10:50:50.482Z\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n         \u003cspan class=\"token property\"\u003e\"odometer\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n         \u003cspan class=\"token property\"\u003e\"coords\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"latitude\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token number\"\u003e13\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"longitude\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token number\"\u003e100\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"accuracy\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token number\"\u003e25.9\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"speed\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token number\"\u003e-1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"heading\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token number\"\u003e-1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"altitude\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token number\"\u003e-23.5\u003c/span\u003e\n         \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n         \u003cspan class=\"token property\"\u003e\"activity\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"still\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"confidence\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token number\"\u003e100\u003c/span\u003e\n         \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n         \u003cspan class=\"token property\"\u003e\"battery\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"is_charging\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"level\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token number\"\u003e0.38\u003c/span\u003e\n         \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n         \u003cspan class=\"token property\"\u003e\"extras\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token property\"\u003e\"triggerType\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"appState\"\u003c/span\u003e\n         \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n   \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e  \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003cstrong\u003e5. /scan\u003c/strong\u003e  \u003c/p\u003e\n\u003cp\u003eหากพบ device อื่นๆผ่าน Bluetooth  หรือการ scan QRCode ก็จะส่ง API อันนี้  \u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n   \u003cspan class=\"token property\"\u003e\"meetId\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"XXXX\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n   \u003cspan class=\"token property\"\u003e\"timestamp\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2020-04-11T11:06:53.777Z\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n   \u003cspan class=\"token property\"\u003e\"meetWithIds\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n      \u003cspan class=\"token string\"\u003e\"XXXX\"\u003c/span\u003e\n   \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n   \u003cspan class=\"token property\"\u003e\"location\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token property\"\u003e\"latitude\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token number\"\u003e13\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"token property\"\u003e\"longitude\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token number\"\u003e100\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"token property\"\u003e\"accuracy\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token number\"\u003e24.2\u003c/span\u003e\n   \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n   \u003cspan class=\"token property\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"bluetooth\"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003cstrong\u003e6. \u003ca href=\"https://raw.githubusercontent.com/codeforpublic/morchana-core/master/available\"\u003ehttps://raw.githubusercontent.com/codeforpublic/morchana-core/master/available\u003c/a\u003e\u003c/strong\u003e  \u003c/p\u003e\n\u003cp\u003eเป็น API Kill-Switch เอาไว้เมื่อเลิกเก็บข้อมูลผู้ใช้แล้ว ก็จะใช้งานแอพไมไ่ด้ ชอบตรงที่เก็บไว้บน Github  \u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://1.bp.blogspot.com/--5pvypeMgXQ/XpGt_uV1rJI/AAAAAAACASU/1JASpLED7KYE1Xs4LReziGfg8MHOlfeuACNcBGAsYHQ/s1600/Screenshot_2020-04-11-14-57-40-973_com.thaialert.app.jpg\"\u003e\u003cimg src=\"https://1.bp.blogspot.com/--5pvypeMgXQ/XpGt_uV1rJI/AAAAAAACASU/1JASpLED7KYE1Xs4LReziGfg8MHOlfeuACNcBGAsYHQ/s640/Screenshot_2020-04-11-14-57-40-973_com.thaialert.app.jpg\"\u003e\u003c/a\u003e  \u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eสรุป\u003c/strong\u003e  \u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eไม่พบว่ามีการส่งรูปที่เราถ่ายขึ้นไปยังบน Server  \u003c/li\u003e\n\u003cli\u003eไม่พบว่ามีการส่งข้อมูลอื่นๆนอกเหนือจากที่ประกาศไว้  \u003c/li\u003e\n\u003cli\u003eงั้นเรามาใช้แอพ หมอชนะ กันเถอะ\u003cbr\u003e\nAppstore: \u003ca href=\"https://apps.apple.com/th/app/allthaialert/id1505185420\"\u003ehttps://apps.apple.com/th/app/allthaialert/id1505185420\u003c/a\u003e\u003cbr\u003e\nPlay Store: \u003ca href=\"https://play.google.com/store/apps/details?id=com.thaialert.app\"\u003ehttps://play.google.com/store/apps/details?id=com.thaialert.app\u003c/a\u003e  \u003c/li\u003e\n\u003c/ul\u003e\n","title":"ตรวจสอบแอพ \"หมอชนะ\" เบื้องต้น","date":"2020-04-11 18:38:00"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"2020-04-11-morchana-app.html"},"buildId":"NtDLwH-YjyjSyl6uh_xSi","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>