<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" sizes="72x72" href="/android-icon-72x72.png"/><meta name="description" content="Kittinan"/><meta name="og:title" content="Kittinan"/><meta name="twitter:card" content="summary_large_image"/><title>ตรวจสอบแอพ &quot;หมอชนะ&quot; เบื้องต้น</title><meta name="next-head-count" content="8"/><link rel="preload" href="/_next/static/css/d956bfbeac7a7df3d68f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d956bfbeac7a7df3d68f.css" data-n-g=""/><link rel="preload" href="/_next/static/css/87a1eaf01853212888db.css" as="style"/><link rel="stylesheet" href="/_next/static/css/87a1eaf01853212888db.css" data-n-p=""/><link rel="preload" href="/_next/static/css/9c58affd6331c6fae7ab.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9c58affd6331c6fae7ab.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-f0439167fa7eb1e01ecd.js" defer=""></script><script src="/_next/static/chunks/framework-895f067827ebe11ffe45.js" defer=""></script><script src="/_next/static/chunks/main-b4b241c8bbabbbce519d.js" defer=""></script><script src="/_next/static/chunks/pages/_app-815c634351185d4202e0.js" defer=""></script><script src="/_next/static/chunks/687-342b3274a7353d57565b.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-edef05025b1985c9c71b.js" defer=""></script><script src="/_next/static/hTdiHLNlQlQZ-_PaVeAWX/_buildManifest.js" defer=""></script><script src="/_next/static/hTdiHLNlQlQZ-_PaVeAWX/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><div class="layout_container__2t4v2"><header class="layout_header__2rhWq"><a href="/"><img src="/images/kittinan.png" class="utils_borderCircle__13qdJ" height="108" width="108" alt="Kittinan"/></a><h2 class="utils_headingLg__de7p0"><a class="utils_colorInherit__3Gudf" href="/">Kittinan</a></h2></header><main><article><h1 class="utils_headingXl__1XecN">ตรวจสอบแอพ &quot;หมอชนะ&quot; เบื้องต้น</h1><div class="utils_lightText__12Ckm"><time dateTime="2020-04-11 18:38:00">April 11, 2020</time></div><div><p>เมื่อวันที่ 10 เมษายน 2563 ได้มีการเปิดตัวแอพ <strong><a href="https://www.blognone.com/node/115736">หมอชนะ</a></strong> เพื่อเก็บประวัติการเดินทางของประชาชน และประเมินว่าบริเวณนั้นมีผู้ป่วย COVID-19 หรือไม่ ผมจึงทำการตรวจสอบว่ามีการส่งข้อมูลอะไรบ้างไปยัง Server  </p>
<p>| <a href="https://1.bp.blogspot.com/-PF6LBTlfNlk/XpG0kZx-TaI/AAAAAAACATU/Nl4h1sMW4O0Z22Mvh9vsWSQA9pxxXoCRACNcBGAsYHQ/s1600/0568.jpg"><img src="https://1.bp.blogspot.com/-PF6LBTlfNlk/XpG0kZx-TaI/AAAAAAACATU/Nl4h1sMW4O0Z22Mvh9vsWSQA9pxxXoCRACNcBGAsYHQ/s640/0568.jpg"></a> |
| รูปจาก <a href="https://www.prachachat.net/ict/news-447255">https://www.prachachat.net/ict/news-447255</a> |</p>
<p>วิธีการตรวจสอบเบื้องต้นคือการทำ Man In The Middle (MITM)  </p>
<p>โดยมีการเรียก API ต่างๆดังนี้  </p>
<p><strong>1. /registerDevice</strong>  </p>
<p>โดยมีการส่งข้อมูลเป็น JSON ดังนี้  </p>
<p>Request:  </p>
<pre><code>{"deviceId":"XXXXXXXXXX"}
</code></pre>
<p>โดยค่าใน deviceId น่าจะเป็นค่า hash จากอะไรบางอย่าง  </p>
<p>Response:  </p>
<pre><code>{"userId":"XXXXXXXXXX","anonymousId":"XXXXXXXXXX"}  

</code></pre>
<p><strong>2. /userdata</strong>  </p>
<p>มีการเรียกใช้เมื่อทำแบบทดสอบ  </p>
<p>Request:  </p>
<pre><code>{"data":{"questionaire":{"one_uri_symp":["none"],"travel_risk_country":false,"covid19_contact":["none"],"int_contact":false}}}  

</code></pre>
<p><strong>3. /qr</strong>  </p>
<p>เรียกเพื่อโหลด QRCode ของเรา โดยมีการส่ง anonymousId แนบไปกับ header ด้วย  </p>
<p><strong>4. /location</strong>  </p>
<p>อันนี้จะส่งข้อมูลพิกัดที่เราอยู่ไปยัง Server  </p>
<p>Request:  </p>
<pre><code>{"locations":[{"is_moving":false,"uuid":"XXXX","timestamp":"2020-04-11T10:50:50.482Z","odometer":0,"coords":{"latitude":13,"longitude":100,"accuracy":25.9,"speed":-1,"heading":-1,"altitude":-23.5},"activity":{"type":"still","confidence":100},"battery":{"is_charging":true,"level":0.38},"extras":{"triggerType":"appState"}}]}  

</code></pre>
<p><strong>5. /scan</strong>  </p>
<p>หากพบ device อื่นๆผ่าน Bluetooth  หรือการ scan QRCode ก็จะส่ง API อันนี้  </p>
<pre><code>{"meetId":"XXXX","timestamp":"2020-04-11T11:06:53.777Z","meetWithIds":["XXXX"],"location":{"latitude":13,"longitude":100,"accuracy":24.2},"type":"bluetooth"}  

</code></pre>
<p><strong>6. <a href="https://raw.githubusercontent.com/codeforpublic/morchana-core/master/available">https://raw.githubusercontent.com/codeforpublic/morchana-core/master/available</a></strong>  </p>
<p>เป็น API Kill-Switch เอาไว้เมื่อเลิกเก็บข้อมูลผู้ใช้แล้ว ก็จะใช้งานแอพไมไ่ด้ ชอบตรงที่เก็บไว้บน Github  </p>
<p><a href="https://1.bp.blogspot.com/--5pvypeMgXQ/XpGt_uV1rJI/AAAAAAACASU/1JASpLED7KYE1Xs4LReziGfg8MHOlfeuACNcBGAsYHQ/s1600/Screenshot_2020-04-11-14-57-40-973_com.thaialert.app.jpg"><img src="https://1.bp.blogspot.com/--5pvypeMgXQ/XpGt_uV1rJI/AAAAAAACASU/1JASpLED7KYE1Xs4LReziGfg8MHOlfeuACNcBGAsYHQ/s640/Screenshot_2020-04-11-14-57-40-973_com.thaialert.app.jpg"></a>  </p>
<p><strong>สรุป</strong>  </p>
<ul>
<li>ไม่พบว่ามีการส่งรูปที่เราถ่ายขึ้นไปยังบน Server  </li>
<li>ไม่พบว่ามีการส่งข้อมูลอื่นๆนอกเหนือจากที่ประกาศไว้  </li>
<li>งั้นเรามาใช้แอพ หมอชนะ กันเถอะ<br>
Appstore: <a href="https://apps.apple.com/th/app/allthaialert/id1505185420">https://apps.apple.com/th/app/allthaialert/id1505185420</a><br>
Play Store: <a href="https://play.google.com/store/apps/details?id=com.thaialert.app">https://play.google.com/store/apps/details?id=com.thaialert.app</a>  </li>
</ul>
</div></article></main><div class="layout_backToHome__1vZsp"><a href="/">← Back to home</a></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"2020-04-11-morchana-app.html","contentHtml":"\u003cp\u003eเมื่อวันที่ 10 เมษายน 2563 ได้มีการเปิดตัวแอพ \u003cstrong\u003e\u003ca href=\"https://www.blognone.com/node/115736\"\u003eหมอชนะ\u003c/a\u003e\u003c/strong\u003e เพื่อเก็บประวัติการเดินทางของประชาชน และประเมินว่าบริเวณนั้นมีผู้ป่วย COVID-19 หรือไม่ ผมจึงทำการตรวจสอบว่ามีการส่งข้อมูลอะไรบ้างไปยัง Server  \u003c/p\u003e\n\u003cp\u003e| \u003ca href=\"https://1.bp.blogspot.com/-PF6LBTlfNlk/XpG0kZx-TaI/AAAAAAACATU/Nl4h1sMW4O0Z22Mvh9vsWSQA9pxxXoCRACNcBGAsYHQ/s1600/0568.jpg\"\u003e\u003cimg src=\"https://1.bp.blogspot.com/-PF6LBTlfNlk/XpG0kZx-TaI/AAAAAAACATU/Nl4h1sMW4O0Z22Mvh9vsWSQA9pxxXoCRACNcBGAsYHQ/s640/0568.jpg\"\u003e\u003c/a\u003e |\n| รูปจาก \u003ca href=\"https://www.prachachat.net/ict/news-447255\"\u003ehttps://www.prachachat.net/ict/news-447255\u003c/a\u003e |\u003c/p\u003e\n\u003cp\u003eวิธีการตรวจสอบเบื้องต้นคือการทำ Man In The Middle (MITM)  \u003c/p\u003e\n\u003cp\u003eโดยมีการเรียก API ต่างๆดังนี้  \u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e1. /registerDevice\u003c/strong\u003e  \u003c/p\u003e\n\u003cp\u003eโดยมีการส่งข้อมูลเป็น JSON ดังนี้  \u003c/p\u003e\n\u003cp\u003eRequest:  \u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e{\"deviceId\":\"XXXXXXXXXX\"}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eโดยค่าใน deviceId น่าจะเป็นค่า hash จากอะไรบางอย่าง  \u003c/p\u003e\n\u003cp\u003eResponse:  \u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e{\"userId\":\"XXXXXXXXXX\",\"anonymousId\":\"XXXXXXXXXX\"}  \n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e2. /userdata\u003c/strong\u003e  \u003c/p\u003e\n\u003cp\u003eมีการเรียกใช้เมื่อทำแบบทดสอบ  \u003c/p\u003e\n\u003cp\u003eRequest:  \u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e{\"data\":{\"questionaire\":{\"one_uri_symp\":[\"none\"],\"travel_risk_country\":false,\"covid19_contact\":[\"none\"],\"int_contact\":false}}}  \n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e3. /qr\u003c/strong\u003e  \u003c/p\u003e\n\u003cp\u003eเรียกเพื่อโหลด QRCode ของเรา โดยมีการส่ง anonymousId แนบไปกับ header ด้วย  \u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e4. /location\u003c/strong\u003e  \u003c/p\u003e\n\u003cp\u003eอันนี้จะส่งข้อมูลพิกัดที่เราอยู่ไปยัง Server  \u003c/p\u003e\n\u003cp\u003eRequest:  \u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e{\"locations\":[{\"is_moving\":false,\"uuid\":\"XXXX\",\"timestamp\":\"2020-04-11T10:50:50.482Z\",\"odometer\":0,\"coords\":{\"latitude\":13,\"longitude\":100,\"accuracy\":25.9,\"speed\":-1,\"heading\":-1,\"altitude\":-23.5},\"activity\":{\"type\":\"still\",\"confidence\":100},\"battery\":{\"is_charging\":true,\"level\":0.38},\"extras\":{\"triggerType\":\"appState\"}}]}  \n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e5. /scan\u003c/strong\u003e  \u003c/p\u003e\n\u003cp\u003eหากพบ device อื่นๆผ่าน Bluetooth  หรือการ scan QRCode ก็จะส่ง API อันนี้  \u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e{\"meetId\":\"XXXX\",\"timestamp\":\"2020-04-11T11:06:53.777Z\",\"meetWithIds\":[\"XXXX\"],\"location\":{\"latitude\":13,\"longitude\":100,\"accuracy\":24.2},\"type\":\"bluetooth\"}  \n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cstrong\u003e6. \u003ca href=\"https://raw.githubusercontent.com/codeforpublic/morchana-core/master/available\"\u003ehttps://raw.githubusercontent.com/codeforpublic/morchana-core/master/available\u003c/a\u003e\u003c/strong\u003e  \u003c/p\u003e\n\u003cp\u003eเป็น API Kill-Switch เอาไว้เมื่อเลิกเก็บข้อมูลผู้ใช้แล้ว ก็จะใช้งานแอพไมไ่ด้ ชอบตรงที่เก็บไว้บน Github  \u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://1.bp.blogspot.com/--5pvypeMgXQ/XpGt_uV1rJI/AAAAAAACASU/1JASpLED7KYE1Xs4LReziGfg8MHOlfeuACNcBGAsYHQ/s1600/Screenshot_2020-04-11-14-57-40-973_com.thaialert.app.jpg\"\u003e\u003cimg src=\"https://1.bp.blogspot.com/--5pvypeMgXQ/XpGt_uV1rJI/AAAAAAACASU/1JASpLED7KYE1Xs4LReziGfg8MHOlfeuACNcBGAsYHQ/s640/Screenshot_2020-04-11-14-57-40-973_com.thaialert.app.jpg\"\u003e\u003c/a\u003e  \u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eสรุป\u003c/strong\u003e  \u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eไม่พบว่ามีการส่งรูปที่เราถ่ายขึ้นไปยังบน Server  \u003c/li\u003e\n\u003cli\u003eไม่พบว่ามีการส่งข้อมูลอื่นๆนอกเหนือจากที่ประกาศไว้  \u003c/li\u003e\n\u003cli\u003eงั้นเรามาใช้แอพ หมอชนะ กันเถอะ\u003cbr\u003e\nAppstore: \u003ca href=\"https://apps.apple.com/th/app/allthaialert/id1505185420\"\u003ehttps://apps.apple.com/th/app/allthaialert/id1505185420\u003c/a\u003e\u003cbr\u003e\nPlay Store: \u003ca href=\"https://play.google.com/store/apps/details?id=com.thaialert.app\"\u003ehttps://play.google.com/store/apps/details?id=com.thaialert.app\u003c/a\u003e  \u003c/li\u003e\n\u003c/ul\u003e\n","title":"ตรวจสอบแอพ \"หมอชนะ\" เบื้องต้น","date":"2020-04-11 18:38:00"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"2020-04-11-morchana-app.html"},"buildId":"hTdiHLNlQlQZ-_PaVeAWX","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>