<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Ubuntu 14.04 Connect Android Using MTP</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/d956bfbeac7a7df3d68f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d956bfbeac7a7df3d68f.css" data-n-g=""/><link rel="preload" href="/_next/static/css/87a1eaf01853212888db.css" as="style"/><link rel="stylesheet" href="/_next/static/css/87a1eaf01853212888db.css" data-n-p=""/><link rel="preload" href="/_next/static/css/294426000da6bce6e53a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/294426000da6bce6e53a.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-a24a21555b4f9e6e7765.js" defer=""></script><script src="/_next/static/chunks/framework-895f067827ebe11ffe45.js" defer=""></script><script src="/_next/static/chunks/main-b4b241c8bbabbbce519d.js" defer=""></script><script src="/_next/static/chunks/pages/_app-815c634351185d4202e0.js" defer=""></script><script src="/_next/static/chunks/742-a50cb412123ecd7d50e5.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-1901839e3a1ce1ba4d7f.js" defer=""></script><script src="/_next/static/QdJwQycFzUZnZeSQ7kJmi/_buildManifest.js" defer=""></script><script src="/_next/static/QdJwQycFzUZnZeSQ7kJmi/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><section class="ant-layout layout"><header class="ant-layout-header"><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" sizes="72x72" href="/android-icon-72x72.png"/><meta name="description" content="Kittinan"/><meta name="og:title" content="Kittinan"/><meta name="twitter:card" content="summary_large_image"/><div class="logo"></div><ul class="ant-menu-overflow ant-menu ant-menu-root ant-menu-horizontal ant-menu-dark" role="menu" tabindex="0" data-menu-list="true"><li class="ant-menu-overflow-item ant-menu-item ant-menu-item-only-child" style="opacity:1;order:0" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><span class="nav-text">Home</span></span></li><li class="ant-menu-overflow-item ant-menu-overflow-item-rest ant-menu-submenu ant-menu-submenu-horizontal ant-menu-submenu-disabled" style="opacity:0;height:0;overflow-y:hidden;order:9007199254740991;pointer-events:none;position:absolute" aria-hidden="true" role="none"><div role="menuitem" class="ant-menu-submenu-title" aria-expanded="false" aria-haspopup="true" aria-disabled="true"><span role="img" aria-label="ellipsis" class="anticon anticon-ellipsis"><svg viewBox="64 64 896 896" focusable="false" data-icon="ellipsis" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"></path></svg></span><i class="ant-menu-submenu-arrow"></i></div></li></ul><div style="display:none" aria-hidden="true"></div></header><main class="ant-layout-content" style="padding:0 50px"><div class="ant-breadcrumb" style="margin:16px 0"><span><span class="ant-breadcrumb-link">Home</span><span class="ant-breadcrumb-separator">/</span></span><span><span class="ant-breadcrumb-link">Post</span><span class="ant-breadcrumb-separator">/</span></span></div><div class="site-layout-content"><a href="/"><img src="/images/kittinan.png" class="utils_borderCircle__13qdJ" height="108" width="108" alt="Kittinan"/></a><h2 class="utils_headingLg__de7p0"><a class="utils_colorInherit__3Gudf" href="/">Kittinan</a></h2><main><article><h1 class="utils_headingXl__1XecN">Ubuntu 14.04 Connect Android Using MTP</h1><div class="utils_lightText__12Ckm"><time dateTime="2017-07-22 08:54:00">July 22, 2017</time></div><div><p>STEP 1<br>
Firstly we're going to need to install some of the common MTP apps that will be needed. Open up a terminal and type the following two lines one after the other.  </p>
<p>sudo apt-get install libmtp-common mtp-tools libmtp-dev libmtp-runtime libmtp9  </p>
<p>sudo apt-get dist-upgrade  </p>
<p>STEP 2<br>
Then we're going to amend the fuse.conf file. FUSE is an application that aims to provide a secure method for non privileged users to create and mount their own file system implementations. This option overrides the security measure restricting file access to the user mounting the file system. So all users (including root) can access the files. This option is by default only allowed to root, but this restriction can be removed with a change to the aforementioned fuse.conf file as follows:  </p>
<p>At the terminal type  </p>
<p>sudo nano /etc/fuse.conf  </p>
<p>We want to remove the # from the below line of code for user_allow_other, like so...  </p>
<p>#/etc/fuse.conf - Configuration file for Filesystem in Userspace (FUSE)  </p>
<p>#Set the maximum number of FUSE mounts allowed to non-root users.<br>
#The default is 1000.<br>
#mount_max = 1000  </p>
<h1>Allow non-root users to specify the allow_other or allow_root mount options.</h1>
<p>user_allow_other  </p>
<p>Now save the file by pressing Ctrl+x, press Y and then Enter.  </p>
<p>STEP 3  </p>
<p>We now need to set up some rules for our device that we plan on connecting, but before we do that we need to find out both the vendor and product id  </p>
<p>Connect your device via an available usb port and from terminal enter  </p>
<p>lsusb<br>
This should bring up an output similar to the following  </p>
<p>Bus 002 Device 003: ID 0fce:01b1 Sony Ericsson Mobile Communications AB<br>
Bus 002 Device 002: ID 8087:0024 Intel Corp. Integrated Rate Matching Hub<br>
Bus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub<br>
Bus 004 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub<br>
Bus 003 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub<br>
Bus 001 Device 006: ID 0461:4d65 Primax Electronics, Ltd<br>
Bus 001 Device 005: ID 0846:9020 NetGear, Inc. WNA3100(v1) Wireless-N 300  </p>
<p>You need to look for your device, in this instance my Sony Tablet is at the top of the list, the vendor id is 0fce and product id is 01b1  </p>
<p>STEP 4<br>
We're then going to amend the mtp udev rules as follows, from a terminal type  </p>
<p>sudo nano /lib/udev/rules.d/69-mtp.rules  </p>
<p>Then add the below line of code  </p>
<h1>Sony Xperia Z2 Tablet</h1>
<p>ATTR{idVendor}=="0fce", ATTR{idProduct}=="01b1", SYMLINK+="libmtp-%k", ENV{ID_MTP_DEVICE}="1", ENV{ID_MEDIA_PLAYER}="1"  </p>
<p>Remember what you're changing here is the device name next to the #, this can be whatever you want, the # comments out the code, but for clarity and reference later I would choose the name of your tablet/phone and also the vendor id and product id, they should match what was seen when you issued the lsusb command earlier.  </p>
<p>Once done, save the file.  </p>
<p>STEP 5<br>
The next step would also be to add a line of code to the 51 android rules file, again from a terminal type  </p>
<p>sudo nano /etc/udev/rules.d/51-android.rules  </p>
<p>Then add the following line of code  </p>
<p>ATTR{idVendor}=="0fce", ATTR{idProduct}=="01b1", MODE=”0666"  </p>
<p>Remember what I have highlighted in red needs to be changed to your device product id and vendor id.  </p>
<p>Once that is done and the file is saved, remove any usb device currently connected and issue the following commands  </p>
<p>[B]STEP 6  </p>
<p>sudo service udev restart  </p>
<p>Then save any other remaining work you may have open and reboot the system.  </p>
<p>STEP 7  </p>
<p>sudo reboot  </p>
<p>Source: <a href="https://ubuntuforums.org/archive/index.php/t-2226702.html">https://ubuntuforums.org/archive/index.php/t-2226702.html</a></p>
</div></article></main><div class="layout_backToHome__1vZsp"><a href="/">← Back to home</a></div></div></main><footer class="ant-layout-footer" style="text-align:center">Ant Design ©2018 Created by Ant UED</footer></section></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"2017-07-22-ubuntu-1404-connect-android-using-mtp.html","contentHtml":"\u003cp\u003eSTEP 1\u003cbr\u003e\nFirstly we're going to need to install some of the common MTP apps that will be needed. Open up a terminal and type the following two lines one after the other.  \u003c/p\u003e\n\u003cp\u003esudo apt-get install libmtp-common mtp-tools libmtp-dev libmtp-runtime libmtp9  \u003c/p\u003e\n\u003cp\u003esudo apt-get dist-upgrade  \u003c/p\u003e\n\u003cp\u003eSTEP 2\u003cbr\u003e\nThen we're going to amend the fuse.conf file. FUSE is an application that aims to provide a secure method for non privileged users to create and mount their own file system implementations. This option overrides the security measure restricting file access to the user mounting the file system. So all users (including root) can access the files. This option is by default only allowed to root, but this restriction can be removed with a change to the aforementioned fuse.conf file as follows:  \u003c/p\u003e\n\u003cp\u003eAt the terminal type  \u003c/p\u003e\n\u003cp\u003esudo nano /etc/fuse.conf  \u003c/p\u003e\n\u003cp\u003eWe want to remove the # from the below line of code for user_allow_other, like so...  \u003c/p\u003e\n\u003cp\u003e#/etc/fuse.conf - Configuration file for Filesystem in Userspace (FUSE)  \u003c/p\u003e\n\u003cp\u003e#Set the maximum number of FUSE mounts allowed to non-root users.\u003cbr\u003e\n#The default is 1000.\u003cbr\u003e\n#mount_max = 1000  \u003c/p\u003e\n\u003ch1\u003eAllow non-root users to specify the allow_other or allow_root mount options.\u003c/h1\u003e\n\u003cp\u003euser_allow_other  \u003c/p\u003e\n\u003cp\u003eNow save the file by pressing Ctrl+x, press Y and then Enter.  \u003c/p\u003e\n\u003cp\u003eSTEP 3  \u003c/p\u003e\n\u003cp\u003eWe now need to set up some rules for our device that we plan on connecting, but before we do that we need to find out both the vendor and product id  \u003c/p\u003e\n\u003cp\u003eConnect your device via an available usb port and from terminal enter  \u003c/p\u003e\n\u003cp\u003elsusb\u003cbr\u003e\nThis should bring up an output similar to the following  \u003c/p\u003e\n\u003cp\u003eBus 002 Device 003: ID 0fce:01b1 Sony Ericsson Mobile Communications AB\u003cbr\u003e\nBus 002 Device 002: ID 8087:0024 Intel Corp. Integrated Rate Matching Hub\u003cbr\u003e\nBus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\u003cbr\u003e\nBus 004 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub\u003cbr\u003e\nBus 003 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\u003cbr\u003e\nBus 001 Device 006: ID 0461:4d65 Primax Electronics, Ltd\u003cbr\u003e\nBus 001 Device 005: ID 0846:9020 NetGear, Inc. WNA3100(v1) Wireless-N 300  \u003c/p\u003e\n\u003cp\u003eYou need to look for your device, in this instance my Sony Tablet is at the top of the list, the vendor id is 0fce and product id is 01b1  \u003c/p\u003e\n\u003cp\u003eSTEP 4\u003cbr\u003e\nWe're then going to amend the mtp udev rules as follows, from a terminal type  \u003c/p\u003e\n\u003cp\u003esudo nano /lib/udev/rules.d/69-mtp.rules  \u003c/p\u003e\n\u003cp\u003eThen add the below line of code  \u003c/p\u003e\n\u003ch1\u003eSony Xperia Z2 Tablet\u003c/h1\u003e\n\u003cp\u003eATTR{idVendor}==\"0fce\", ATTR{idProduct}==\"01b1\", SYMLINK+=\"libmtp-%k\", ENV{ID_MTP_DEVICE}=\"1\", ENV{ID_MEDIA_PLAYER}=\"1\"  \u003c/p\u003e\n\u003cp\u003eRemember what you're changing here is the device name next to the #, this can be whatever you want, the # comments out the code, but for clarity and reference later I would choose the name of your tablet/phone and also the vendor id and product id, they should match what was seen when you issued the lsusb command earlier.  \u003c/p\u003e\n\u003cp\u003eOnce done, save the file.  \u003c/p\u003e\n\u003cp\u003eSTEP 5\u003cbr\u003e\nThe next step would also be to add a line of code to the 51 android rules file, again from a terminal type  \u003c/p\u003e\n\u003cp\u003esudo nano /etc/udev/rules.d/51-android.rules  \u003c/p\u003e\n\u003cp\u003eThen add the following line of code  \u003c/p\u003e\n\u003cp\u003eATTR{idVendor}==\"0fce\", ATTR{idProduct}==\"01b1\", MODE=”0666\"  \u003c/p\u003e\n\u003cp\u003eRemember what I have highlighted in red needs to be changed to your device product id and vendor id.  \u003c/p\u003e\n\u003cp\u003eOnce that is done and the file is saved, remove any usb device currently connected and issue the following commands  \u003c/p\u003e\n\u003cp\u003e[B]STEP 6  \u003c/p\u003e\n\u003cp\u003esudo service udev restart  \u003c/p\u003e\n\u003cp\u003eThen save any other remaining work you may have open and reboot the system.  \u003c/p\u003e\n\u003cp\u003eSTEP 7  \u003c/p\u003e\n\u003cp\u003esudo reboot  \u003c/p\u003e\n\u003cp\u003eSource: \u003ca href=\"https://ubuntuforums.org/archive/index.php/t-2226702.html\"\u003ehttps://ubuntuforums.org/archive/index.php/t-2226702.html\u003c/a\u003e\u003c/p\u003e\n","title":"Ubuntu 14.04 Connect Android Using MTP","date":"2017-07-22 08:54:00"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"2017-07-22-ubuntu-1404-connect-android-using-mtp.html"},"buildId":"QdJwQycFzUZnZeSQ7kJmi","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>