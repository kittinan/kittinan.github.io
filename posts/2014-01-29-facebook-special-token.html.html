<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" sizes="72x72" href="/android-icon-72x72.png"/><meta name="description" content="Kittinan"/><meta name="og:title" content="Kittinan"/><meta name="twitter:card" content="summary_large_image"/><title>Facebook Special Token</title><meta name="next-head-count" content="8"/><link rel="preload" href="/_next/static/css/d956bfbeac7a7df3d68f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d956bfbeac7a7df3d68f.css" data-n-g=""/><link rel="preload" href="/_next/static/css/87a1eaf01853212888db.css" as="style"/><link rel="stylesheet" href="/_next/static/css/87a1eaf01853212888db.css" data-n-p=""/><link rel="preload" href="/_next/static/css/9c58affd6331c6fae7ab.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9c58affd6331c6fae7ab.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-f0439167fa7eb1e01ecd.js" defer=""></script><script src="/_next/static/chunks/framework-895f067827ebe11ffe45.js" defer=""></script><script src="/_next/static/chunks/main-b4b241c8bbabbbce519d.js" defer=""></script><script src="/_next/static/chunks/pages/_app-815c634351185d4202e0.js" defer=""></script><script src="/_next/static/chunks/687-342b3274a7353d57565b.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-edef05025b1985c9c71b.js" defer=""></script><script src="/_next/static/hTdiHLNlQlQZ-_PaVeAWX/_buildManifest.js" defer=""></script><script src="/_next/static/hTdiHLNlQlQZ-_PaVeAWX/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><div class="layout_container__2t4v2"><header class="layout_header__2rhWq"><a href="/"><img src="/images/kittinan.png" class="utils_borderCircle__13qdJ" height="108" width="108" alt="Kittinan"/></a><h2 class="utils_headingLg__de7p0"><a class="utils_colorInherit__3Gudf" href="/">Kittinan</a></h2></header><main><article><h1 class="utils_headingXl__1XecN">Facebook Special Token</h1><div class="utils_lightText__12Ckm"><time dateTime="2014-01-29 23:20:00">January 29, 2014</time></div><div><p>On the 16 Jan 2014. I found the Token from Facebook Official Application and Facebook Messenger Application. That Token can access emails &#x26; phones of your friends without ask them depends on their privacy setting and this token also can  get email &#x26; phones from not friends user if their has set public on privacy setting (You can't see email on the user who is not friend). ahh this token can query your friends of friends. it wonderful. i love this token.  </p>
<p>That sure i reported this issue to Facebook security team, this is once of the answer  </p>
<blockquote>
<p>As <a href="https://www.facebook.com/help/359369650815737">https://www.facebook.com/help/359369650815737</a> notes, the privacy<br>
setting of an email address controls who is able to see the information<br>
outside of the context of Timeline. Shown on Timeline or Hidden from<br>
Timeline are known as visibility settings and only control what information<br>
is highlighted on your timeline. Can you demonstrate the ability to use<br>
this token to access email addresses which you shouldn't be able to based<br>
on privacy settings?</p>
</blockquote>
<blockquote>
<p>The tokens issued to the official applications have special permissions in order to allow them to function as efficiently as possible. Again, the application should not be able to return any information that it is not possible to access normally. Can you demonstrate a case where you are seeing the friend list for a friend where you could not otherwise see it? </p>
</blockquote>
<p> Ok, Let's see how this work.  </p>
<ol>
<li>You must have Mobile device and installed Facebook Application, in this case i use my Android.  </li>
<li>We will capture the special token from this software mitmproxy (<a href="http://mitmproxy.org/">http://mitmproxy.org/</a>). This software that fake the certificate and make you can read https. Please see this blog for how mitmproxy work and use (<a href="http://blog.philippheckel.com/2013/07/01/how-to-use-mitmproxy-to-read-and-modify-https-traffic-of-your-phone/">http://blog.philippheckel.com/2013/07/01/how-to-use-mitmproxy-to-read-and-modify-https-traffic-of-your-phone/</a> )  </li>
<li>After you learned the blog above you will got the special token when you open the facebook application and logged in  </li>
</ol>
<p>| <a href="http://3.bp.blogspot.com/-gzEbfsRbhjw/Uukh7rgp43I/AAAAAAAAHhM/X1SPaz_F93A/s1600/Screenshot-root@null:+-tmp.png"><img src="http://3.bp.blogspot.com/-gzEbfsRbhjw/Uukh7rgp43I/AAAAAAAAHhM/X1SPaz_F93A/s1600/Screenshot-root@null:+-tmp.png"></a> |
| From Facebook Android Application |</p>
<p>| <a href="http://3.bp.blogspot.com/-ZznipTgQMBo/UukiGu0qZoI/AAAAAAAAHhU/kQYPuqp0p1M/s1600/Screenshot-root@null:+-tmp-1.png"><img src="http://3.bp.blogspot.com/-ZznipTgQMBo/UukiGu0qZoI/AAAAAAAAHhU/kQYPuqp0p1M/s1600/Screenshot-root@null:+-tmp-1.png"></a> |
| From Facebook Messenger Application |</p>
<ol start="4">
<li>You can check the token <a href="https://developers.facebook.com/tools/debug/accesstoken">here</a> (wow the expire is never)  </li>
</ol>
<p><a href="http://2.bp.blogspot.com/-S_Up__aTdEc/Uuki2X-fmNI/AAAAAAAAHhc/7xdMFC5Kki4/s1600/Screenshot-28.png"><img src="http://2.bp.blogspot.com/-S_Up__aTdEc/Uuki2X-fmNI/AAAAAAAAHhc/7xdMFC5Kki4/s1600/Screenshot-28.png"></a>  </p>
<ol start="5">
<li>After i got the special token i use facebook fql to get data (<a href="https://developers.facebook.com/tools/explorer">https://developers.facebook.com/tools/explorer</a>)  </li>
</ol>
<p>i will show you for some example  </p>
<p>this is the query to get your friends email &#x26; phone number<br>
<a href="https://developers.facebook.com/tools/explorer/?fql=SELECT%20uid%2C%20name%2C%20email%2C%20phones%20FROM%20user%20WHERE%20uid%20IN%20(SELECT%20uid2%20FROM%20friend%20WHERE%20uid1%3Dme())">https://developers.facebook.com/tools/explorer/?fql=SELECT%20uid%2C%20name%2C%20email%2C%20phones%20FROM%20user%20WHERE%20uid%20IN%20(SELECT%20uid2%20FROM%20friend%20WHERE%20uid1%3Dme())</a>  </p>
<p>| <a href="http://2.bp.blogspot.com/-HJvr4gAD230/Uukk1UC85_I/AAAAAAAAHho/7YLlnpwM8ng/s1600/Screenshot-29.png"><img src="http://2.bp.blogspot.com/-HJvr4gAD230/Uukk1UC85_I/AAAAAAAAHho/7YLlnpwM8ng/s1600/Screenshot-29.png"></a> |
| phones is not for regular facebook app token |</p>
<p>| <a href="http://3.bp.blogspot.com/-dGzGPrN747A/UuklmjZKKYI/AAAAAAAAHhw/OxGORTdtshw/s1600/Screenshot-30.png"><img src="http://3.bp.blogspot.com/-dGzGPrN747A/UuklmjZKKYI/AAAAAAAAHhw/OxGORTdtshw/s1600/Screenshot-30.png"></a> |
| After use the special token,  got email and phone number |</p>
<p>this query can get your friends of friends depends on your friend privacy setting<br>
SELECT uid, name, email, phones FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1=FACEBOOK_ID)  </p>
</div></article></main><div class="layout_backToHome__1vZsp"><a href="/">← Back to home</a></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"2014-01-29-facebook-special-token.html","contentHtml":"\u003cp\u003eOn the 16 Jan 2014. I found the Token from Facebook Official Application and Facebook Messenger Application. That Token can access emails \u0026#x26; phones of your friends without ask them depends on their privacy setting and this token also can  get email \u0026#x26; phones from not friends user if their has set public on privacy setting (You can't see email on the user who is not friend). ahh this token can query your friends of friends. it wonderful. i love this token.  \u003c/p\u003e\n\u003cp\u003eThat sure i reported this issue to Facebook security team, this is once of the answer  \u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eAs \u003ca href=\"https://www.facebook.com/help/359369650815737\"\u003ehttps://www.facebook.com/help/359369650815737\u003c/a\u003e notes, the privacy\u003cbr\u003e\nsetting of an email address controls who is able to see the information\u003cbr\u003e\noutside of the context of Timeline. Shown on Timeline or Hidden from\u003cbr\u003e\nTimeline are known as visibility settings and only control what information\u003cbr\u003e\nis highlighted on your timeline. Can you demonstrate the ability to use\u003cbr\u003e\nthis token to access email addresses which you shouldn't be able to based\u003cbr\u003e\non privacy settings?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThe tokens issued to the official applications have special permissions in order to allow them to function as efficiently as possible. Again, the application should not be able to return any information that it is not possible to access normally. Can you demonstrate a case where you are seeing the friend list for a friend where you could not otherwise see it? \u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e Ok, Let's see how this work.  \u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eYou must have Mobile device and installed Facebook Application, in this case i use my Android.  \u003c/li\u003e\n\u003cli\u003eWe will capture the special token from this software mitmproxy (\u003ca href=\"http://mitmproxy.org/\"\u003ehttp://mitmproxy.org/\u003c/a\u003e). This software that fake the certificate and make you can read https. Please see this blog for how mitmproxy work and use (\u003ca href=\"http://blog.philippheckel.com/2013/07/01/how-to-use-mitmproxy-to-read-and-modify-https-traffic-of-your-phone/\"\u003ehttp://blog.philippheckel.com/2013/07/01/how-to-use-mitmproxy-to-read-and-modify-https-traffic-of-your-phone/\u003c/a\u003e )  \u003c/li\u003e\n\u003cli\u003eAfter you learned the blog above you will got the special token when you open the facebook application and logged in  \u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e| \u003ca href=\"http://3.bp.blogspot.com/-gzEbfsRbhjw/Uukh7rgp43I/AAAAAAAAHhM/X1SPaz_F93A/s1600/Screenshot-root@null:+-tmp.png\"\u003e\u003cimg src=\"http://3.bp.blogspot.com/-gzEbfsRbhjw/Uukh7rgp43I/AAAAAAAAHhM/X1SPaz_F93A/s1600/Screenshot-root@null:+-tmp.png\"\u003e\u003c/a\u003e |\n| From Facebook Android Application |\u003c/p\u003e\n\u003cp\u003e| \u003ca href=\"http://3.bp.blogspot.com/-ZznipTgQMBo/UukiGu0qZoI/AAAAAAAAHhU/kQYPuqp0p1M/s1600/Screenshot-root@null:+-tmp-1.png\"\u003e\u003cimg src=\"http://3.bp.blogspot.com/-ZznipTgQMBo/UukiGu0qZoI/AAAAAAAAHhU/kQYPuqp0p1M/s1600/Screenshot-root@null:+-tmp-1.png\"\u003e\u003c/a\u003e |\n| From Facebook Messenger Application |\u003c/p\u003e\n\u003col start=\"4\"\u003e\n\u003cli\u003eYou can check the token \u003ca href=\"https://developers.facebook.com/tools/debug/accesstoken\"\u003ehere\u003c/a\u003e (wow the expire is never)  \u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003ca href=\"http://2.bp.blogspot.com/-S_Up__aTdEc/Uuki2X-fmNI/AAAAAAAAHhc/7xdMFC5Kki4/s1600/Screenshot-28.png\"\u003e\u003cimg src=\"http://2.bp.blogspot.com/-S_Up__aTdEc/Uuki2X-fmNI/AAAAAAAAHhc/7xdMFC5Kki4/s1600/Screenshot-28.png\"\u003e\u003c/a\u003e  \u003c/p\u003e\n\u003col start=\"5\"\u003e\n\u003cli\u003eAfter i got the special token i use facebook fql to get data (\u003ca href=\"https://developers.facebook.com/tools/explorer\"\u003ehttps://developers.facebook.com/tools/explorer\u003c/a\u003e)  \u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003ei will show you for some example  \u003c/p\u003e\n\u003cp\u003ethis is the query to get your friends email \u0026#x26; phone number\u003cbr\u003e\n\u003ca href=\"https://developers.facebook.com/tools/explorer/?fql=SELECT%20uid%2C%20name%2C%20email%2C%20phones%20FROM%20user%20WHERE%20uid%20IN%20(SELECT%20uid2%20FROM%20friend%20WHERE%20uid1%3Dme())\"\u003ehttps://developers.facebook.com/tools/explorer/?fql=SELECT%20uid%2C%20name%2C%20email%2C%20phones%20FROM%20user%20WHERE%20uid%20IN%20(SELECT%20uid2%20FROM%20friend%20WHERE%20uid1%3Dme())\u003c/a\u003e  \u003c/p\u003e\n\u003cp\u003e| \u003ca href=\"http://2.bp.blogspot.com/-HJvr4gAD230/Uukk1UC85_I/AAAAAAAAHho/7YLlnpwM8ng/s1600/Screenshot-29.png\"\u003e\u003cimg src=\"http://2.bp.blogspot.com/-HJvr4gAD230/Uukk1UC85_I/AAAAAAAAHho/7YLlnpwM8ng/s1600/Screenshot-29.png\"\u003e\u003c/a\u003e |\n| phones is not for regular facebook app token |\u003c/p\u003e\n\u003cp\u003e| \u003ca href=\"http://3.bp.blogspot.com/-dGzGPrN747A/UuklmjZKKYI/AAAAAAAAHhw/OxGORTdtshw/s1600/Screenshot-30.png\"\u003e\u003cimg src=\"http://3.bp.blogspot.com/-dGzGPrN747A/UuklmjZKKYI/AAAAAAAAHhw/OxGORTdtshw/s1600/Screenshot-30.png\"\u003e\u003c/a\u003e |\n| After use the special token,  got email and phone number |\u003c/p\u003e\n\u003cp\u003ethis query can get your friends of friends depends on your friend privacy setting\u003cbr\u003e\nSELECT uid, name, email, phones FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1=FACEBOOK_ID)  \u003c/p\u003e\n","title":"Facebook Special Token","date":"2014-01-29 23:20:00"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"2014-01-29-facebook-special-token.html"},"buildId":"hTdiHLNlQlQZ-_PaVeAWX","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>