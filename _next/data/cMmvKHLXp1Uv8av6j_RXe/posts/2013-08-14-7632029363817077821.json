{"pageProps":{"postData":{"id":"2013-08-14-7632029363817077821","contentHtml":"<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">  \nphp&#x26;lt;br /set\\_time\\_limit(0);  \n  \n  \n$album\\_id = &#x26;#39;534220169927973&#x26;#39;;  \n  \n$url = &#x26;#39;http://graph.facebook.com/&#x26;#39;.$album\\_id.&#x26;#39;/photos&#x26;#39;;  \n  \nwhile (1) {  \n    $count\\_retry = 0;  \n    echo &#x26;quot;[+] URL : &#x26;quot;.$url.&#x26;quot;\\n&#x26;quot;;  \n    $json = null;  \n    while ($json == null) {  \n        //Fix For Internet Connection  \n        $json = @json\\_decode(file\\_get\\_contents($url), true);  \n        if ($count\\_retry &#x26;gt; 1) {  \n            echo &#x26;quot;[+] Retry : &#x26;quot;.$url.&#x26;quot;\\n&#x26;quot;;  \n        }  \n        $count\\_retry++;  \n    }  \n      \n    $count\\_retry = 0;  \n    if (empty($json)) {  \n        echo &#x26;#39;Bad Luck&#x26;#39;;  \n        exit();  \n    }  \n  \n      \n    if (is\\_dir($album\\_id) == false) {  \n        mkdir($album\\_id);  \n        chmod($album\\_id, 0777);  \n    } else {  \n  \n    }  \n  \n  \n    if (empty($json[&#x26;#39;data&#x26;#39;])) {  \n        //No Photo  \n        exit();  \n    }  \n  \n    download($json, $album\\_id);  \n  \n    //Paging  \n    if (empty($json[&#x26;#39;paging&#x26;#39;][&#x26;#39;next&#x26;#39;])) {  \n        echo &#x26;quot;[+] No Next page\\n&#x26;quot;;  \n        exit();  \n    }  \n    $url = $json[&#x26;#39;paging&#x26;#39;][&#x26;#39;next&#x26;#39;];  \n      \n      \n}  \n  \nfunction download($json, $album\\_id) {  \n    //Download  \n    foreach ($json[&#x26;#39;data&#x26;#39;] as $image) {  \n        $id = $image[&#x26;#39;id&#x26;#39;];  \n        $image\\_url = $image[&#x26;#39;images&#x26;#39;][0][&#x26;#39;source&#x26;#39;];  \n        echo $image\\_url.&#x26;quot;\\n&#x26;quot;;  \n        $filename = $album\\_id.&#x26;#39;/&#x26;#39;.$id.&#x26;#39;.jpg&#x26;#39;;  \n        if (file\\_exists($filename) == false) {  \n            system(&#x26;#39;nohup wget &#x26;quot;&#x26;#39;.$image\\_url.&#x26;#39;&#x26;quot; -O &#x26;quot;&#x26;#39;.$filename.&#x26;#39;&#x26;quot; &#x26;amp;&#x26;#39;);  \n        }  \n    }  \n}  \n?&#x26;gt;  \n</code></pre></div>\n","title":"PHP Code Dump Facebook Public Album With Wget","date":"2013-08-14 23:22:00"}},"__N_SSG":true}