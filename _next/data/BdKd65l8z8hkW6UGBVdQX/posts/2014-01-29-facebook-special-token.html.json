{"pageProps":{"postData":{"id":"2014-01-29-facebook-special-token.html","contentHtml":"<p>On the 16 Jan 2014. I found the Token from Facebook Official Application and Facebook Messenger Application. That Token can access emails &#x26; phones of your friends without ask them depends on their privacy setting and this token also can  get email &#x26; phones from not friends user if their has set public on privacy setting (You can't see email on the user who is not friend). ahh this token can query your friends of friends. it wonderful. i love this token.  </p>\n<p>That sure i reported this issue to Facebook security team, this is once of the answer  </p>\n<blockquote>\n<p>As <a href=\"https://www.facebook.com/help/359369650815737\">https://www.facebook.com/help/359369650815737</a> notes, the privacy<br>\nsetting of an email address controls who is able to see the information<br>\noutside of the context of Timeline. Shown on Timeline or Hidden from<br>\nTimeline are known as visibility settings and only control what information<br>\nis highlighted on your timeline. Can you demonstrate the ability to use<br>\nthis token to access email addresses which you shouldn't be able to based<br>\non privacy settings?</p>\n</blockquote>\n<blockquote>\n<p>The tokens issued to the official applications have special permissions in order to allow them to function as efficiently as possible. Again, the application should not be able to return any information that it is not possible to access normally. Can you demonstrate a case where you are seeing the friend list for a friend where you could not otherwise see it? </p>\n</blockquote>\n<p> Ok, Let's see how this work.  </p>\n<ol>\n<li>You must have Mobile device and installed Facebook Application, in this case i use my Android.  </li>\n<li>We will capture the special token from this software mitmproxy (<a href=\"http://mitmproxy.org/\">http://mitmproxy.org/</a>). This software that fake the certificate and make you can read https. Please see this blog for how mitmproxy work and use (<a href=\"http://blog.philippheckel.com/2013/07/01/how-to-use-mitmproxy-to-read-and-modify-https-traffic-of-your-phone/\">http://blog.philippheckel.com/2013/07/01/how-to-use-mitmproxy-to-read-and-modify-https-traffic-of-your-phone/</a> )  </li>\n<li>After you learned the blog above you will got the special token when you open the facebook application and logged in  </li>\n</ol>\n<p>| <a href=\"http://3.bp.blogspot.com/-gzEbfsRbhjw/Uukh7rgp43I/AAAAAAAAHhM/X1SPaz_F93A/s1600/Screenshot-root@null:+-tmp.png\"><img src=\"http://3.bp.blogspot.com/-gzEbfsRbhjw/Uukh7rgp43I/AAAAAAAAHhM/X1SPaz_F93A/s1600/Screenshot-root@null:+-tmp.png\"></a> |\n| From Facebook Android Application |</p>\n<p>| <a href=\"http://3.bp.blogspot.com/-ZznipTgQMBo/UukiGu0qZoI/AAAAAAAAHhU/kQYPuqp0p1M/s1600/Screenshot-root@null:+-tmp-1.png\"><img src=\"http://3.bp.blogspot.com/-ZznipTgQMBo/UukiGu0qZoI/AAAAAAAAHhU/kQYPuqp0p1M/s1600/Screenshot-root@null:+-tmp-1.png\"></a> |\n| From Facebook Messenger Application |</p>\n<ol start=\"4\">\n<li>You can check the token <a href=\"https://developers.facebook.com/tools/debug/accesstoken\">here</a> (wow the expire is never)  </li>\n</ol>\n<p><a href=\"http://2.bp.blogspot.com/-S_Up__aTdEc/Uuki2X-fmNI/AAAAAAAAHhc/7xdMFC5Kki4/s1600/Screenshot-28.png\"><img src=\"http://2.bp.blogspot.com/-S_Up__aTdEc/Uuki2X-fmNI/AAAAAAAAHhc/7xdMFC5Kki4/s1600/Screenshot-28.png\"></a>  </p>\n<ol start=\"5\">\n<li>After i got the special token i use facebook fql to get data (<a href=\"https://developers.facebook.com/tools/explorer\">https://developers.facebook.com/tools/explorer</a>)  </li>\n</ol>\n<p>i will show you for some example  </p>\n<p>this is the query to get your friends email &#x26; phone number<br>\n<a href=\"https://developers.facebook.com/tools/explorer/?fql=SELECT%20uid%2C%20name%2C%20email%2C%20phones%20FROM%20user%20WHERE%20uid%20IN%20(SELECT%20uid2%20FROM%20friend%20WHERE%20uid1%3Dme())\">https://developers.facebook.com/tools/explorer/?fql=SELECT%20uid%2C%20name%2C%20email%2C%20phones%20FROM%20user%20WHERE%20uid%20IN%20(SELECT%20uid2%20FROM%20friend%20WHERE%20uid1%3Dme())</a>  </p>\n<p>| <a href=\"http://2.bp.blogspot.com/-HJvr4gAD230/Uukk1UC85_I/AAAAAAAAHho/7YLlnpwM8ng/s1600/Screenshot-29.png\"><img src=\"http://2.bp.blogspot.com/-HJvr4gAD230/Uukk1UC85_I/AAAAAAAAHho/7YLlnpwM8ng/s1600/Screenshot-29.png\"></a> |\n| phones is not for regular facebook app token |</p>\n<p>| <a href=\"http://3.bp.blogspot.com/-dGzGPrN747A/UuklmjZKKYI/AAAAAAAAHhw/OxGORTdtshw/s1600/Screenshot-30.png\"><img src=\"http://3.bp.blogspot.com/-dGzGPrN747A/UuklmjZKKYI/AAAAAAAAHhw/OxGORTdtshw/s1600/Screenshot-30.png\"></a> |\n| After use the special token,  got email and phone number |</p>\n<p>this query can get your friends of friends depends on your friend privacy setting<br>\nSELECT uid, name, email, phones FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1=FACEBOOK_ID)  </p>\n","title":"Facebook Special Token","date":"2014-01-29 23:20:00"}},"__N_SSG":true}